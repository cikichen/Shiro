import{r as u,R as D,j as g}from"./index-6nmoZuY1.js";import{c as j}from"./helper-DD-oFgKI.js";var p=new Map,m=new WeakMap,S=0,L=void 0;function V(e){return e?(m.has(e)||(S+=1,m.set(e,S.toString())),m.get(e)):"0"}function z(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?V(e.root):e[t]}`).toString()}function _(e){let t=z(e),r=p.get(t);if(!r){const n=new Map;let o;const a=new IntersectionObserver(i=>{i.forEach(s=>{var c;const h=s.isIntersecting&&o.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=h),(c=n.get(s.target))==null||c.forEach(f=>{f(h,s)})})},e);o=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:n},p.set(t,r)}return r}function $(e,t,r={},n=L){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const c=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:c,intersectionRect:c,rootBounds:c}),()=>{}}const{id:o,observer:a,elements:i}=_(r);let s=i.get(e)||[];return i.has(e)||i.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(i.delete(e),a.unobserve(e)),i.size===0&&(a.disconnect(),p.delete(o))}}function A({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:a,skip:i,initialInView:s,fallbackInView:c,onChange:h}={}){var f;const[v,M]=u.useState(null),b=u.useRef(),[x,I]=u.useState({inView:!!s,entry:void 0});b.current=h,u.useEffect(()=>{if(i||!v)return;let l;return l=$(v,(E,R)=>{I({inView:E,entry:R}),b.current&&b.current(E,R),R.isIntersecting&&a&&l&&(l(),l=void 0)},{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},c),()=>{l&&l()}},[Array.isArray(e)?e.toString():e,v,o,n,a,i,r,c,t]);const w=(f=x.entry)==null?void 0:f.target,y=u.useRef();!v&&w&&!a&&!i&&y.current!==w&&(y.current=w,I({inView:!!s,entry:void 0}));const d=[M,x.inView,x.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}const O=e=>{const{placeholder:t=null,offset:r=0,...n}=e,{ref:o,inView:a}=A({triggerOnce:!0,rootMargin:`${r||0}px`,...n}),[i,s]=D.useState(!1);return u.useEffect(()=>{a&&s(!0)},[a]),g.jsxs(g.Fragment,{children:[!i&&g.jsx("span",{"data-hide-print":!0,"data-testid":"lazyload-indicator",ref:o}),a?e.children:t]})},U=()=>{const e=u.useRef(!1);return u.useEffect(()=>(e.current=!1,()=>{e.current=!0}),[]),e},T=({width:e,height:t,max:r})=>{if(e===0||t===0)throw new Error("Invalid image size");const{width:n,height:o}=r,a=n/e||1,i=o/t||1,s=Math.min(a,i,1);return{width:e*s,height:t*s}};function B(e){const t=document.createElement("canvas"),r=t.getContext("2d");t.width=1,t.height=1,r.drawImage(e,0,0,1,1);const n=r.getImageData(0,0,1,1).data;return`#${((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).slice(1)}`}const W=(e,t)=>{const r=new URL(e);return r.searchParams.set(`imageMogr2/thumbnail/${t}x`,""),r.toString()},F=e=>{const{className:t,...r}=e;return g.jsx("hr",{className:j("my-4 h-[0.5px] border-0 bg-black !bg-opacity-30 dark:bg-white",t),...r})},H=e=>{const{className:t,...r}=e;return g.jsx("span",{className:j("mx-4 inline-block h-full w-[0.5px] select-none bg-black !bg-opacity-30 text-transparent dark:bg-white",t),...r,children:"w"})};export{F as D,O as L,A as a,H as b,T as c,W as d,B as g,U as u};
